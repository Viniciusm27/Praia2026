<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />

    <!-- ÍCONES CORRIGIDOS PARA GITHUB PAGES -->
    <!-- O ponto (.) antes da barra é crucial para subpastas -->
    <link rel="icon" type="image/jpeg" href="./icon.jpg" />
    <link rel="apple-touch-icon" href="./icon.jpg" />

    <!-- Viewport configurado para cobrir toda a tela (sem bordas brancas) -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"
    />

    <!-- Configurações de PWA (App Real) -->
    <meta name="theme-color" content="#2e1065" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="apple-mobile-web-app-title" content="Praia 2026" />

    <!-- MANIFESTO TAMBÉM COM CAMINHO RELATIVO -->
    <link rel="manifest" href="./manifest.json" />
    <title>Praia 2026: O Jogo</title>

    <!-- Estilo da Splash Screen (Carregamento Inicial) -->
    <style>
      * {
        box-sizing: border-box;
      }
      body,
      html {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        background-color: #1e1b4b;
        overflow: hidden;
      }

      #splash-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        /* Degradê inspirado na sua logo (Laranja -> Roxo Profundo) */
        background: radial-gradient(
          circle at center top,
          #ff8c69 0%,
          #2e1065 70%,
          #100c30 100%
        );
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        z-index: 99999;
        transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .logo-container {
        position: relative;
        width: 160px;
        height: 160px;
        border-radius: 35px;
        /* Sombra brilhante para destacar */
        box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.1),
          0 20px 50px rgba(0, 0, 0, 0.5);
        animation: float 4s ease-in-out infinite;
        background: #000;
        overflow: hidden;
      }

      .splash-icon {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .splash-loader {
        margin-top: 40px;
        width: 40px;
        height: 40px;
        border: 4px solid rgba(255, 255, 255, 0.2);
        border-top-color: #fbbf24; /* Amarelo */
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      .splash-text {
        margin-top: 20px;
        color: rgba(255, 255, 255, 0.9);
        font-family: "Segoe UI", system-ui, sans-serif;
        font-weight: 700;
        letter-spacing: 3px;
        font-size: 12px;
        text-transform: uppercase;
        animation: pulseText 2s infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px) scale(1);
        }
        50% {
          transform: translateY(-10px) scale(1.02);
        }
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }
      @keyframes pulseText {
        0%,
        100% {
          opacity: 0.6;
        }
        50% {
          opacity: 1;
        }
      }
    </style>
  </head>
  <body>
    <!-- O HTML da Splash Screen aparece imediatamente -->
    <div id="splash-screen">
      <div class="logo-container">
        <!-- Caminho relativo ./icon.jpg garante que ache a imagem na subpasta -->
        <img
          src="./icon.jpg"
          class="splash-icon"
          alt="Praia 2026"
          onerror="this.style.display='none'"
        />
      </div>
      <div class="splash-loader"></div>
      <div class="splash-text">Carregando o rolê...</div>
    </div>

    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>

    <script>
      // Fallback de segurança: Se o React não carregar em 8s, remove a tela de loading
      window.onload = function () {
        setTimeout(() => {
          const splash = document.getElementById("splash-screen");
          // Verifica se o app já carregou (pela classe de animação do React)
          if (splash && !document.querySelector(".animate-fadeIn")) {
            // Opcional: forçar remoção se necessário
            // splash.style.opacity = '0';
            // setTimeout(() => splash.remove(), 500);
          }
        }, 8000);
      };
    </script>
  </body>
</html>
